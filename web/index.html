<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#000000">
    <meta
            name="description"
            content="Задание"
    >
    <link rel="stylesheet" href="styles/index.css">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <title>Задание</title>
</head>
<body>
    <div class="root">
        <header class="root-wrapper header-title">
            <form class="numbers-api">
                <h3 class="numbers-api-title title">Интересные факты о числах и датах</h3>

                <div class="form-input">
                    <label for="type"></label>
                    <select class="text form-input-field numbers-api-select" id="type" name="type">
                        <option class="text" value="date" selected>Дата</option>
                        <option class="text" value="year">Год</option>
                        <option class="text" value="trivia">Обычный</option>
                        <option class="text" value="math">Математика</option>
                    </select>
                </div>

                <button class="form-button numbers-api-button text" type="submit">Обновить</button>

                <h3 class="numbers-api-number title"></h3>
                <p class="numbers-api-text text"></p>
            </form>

            <h1 class="title-text">JavaScript и библиотека React</h1>
        </header>

        <main class="root-wrapper">
            <div class="column">
                <article class="title-image">
                    <img class="image" src="assets/images/js.jpg" alt="Изображение с языком JavaScript">
                </article>

                <article class="description">
                    <div class="description-block">
                        <h3 class="description-block-title title">Описание</h3>
                        <p class="description-block-text text">Javascript – динамический скриптовый язык программирования высокого уровня. Он отличается мультипарадигменностью. Речь идет о поддержке функционального, императивного, событийно-ориентированного стилей. Чаще всего язык используется для создания интерактивных веб-страниц и приложений.</p>
                    </div>

                    <div class="description-block">
                        <h3 class="description-block-title title">Сферы применения</h3>
                        <ol class="description-block-list list">
                            <li class="description-block-text text">
                                <p>
                                    <strong>Веб-сайты и веб-приложения.</strong>
                                    Самая популярная область применения языка JavaScript — это написание кода для сайта. Практически на каждом современном сайте используют код, написанный на JS.
                                </p>
                            </li>
                            <li class="description-block-text text">
                                <p>
                                    <strong>Расширения для браузера.</strong>
                                    Небольшие простые скрипты, которые добавляют дополнительный функционал — блокируют рекламу, позволяют сохранять аудио, отправляют уведомления о новых письмах или меняют цветовую схему сайта.
                                </p>
                            </li>
                            <li class="description-block-text text">
                                <p>
                                    <strong>Мобильные приложения.</strong>
                                    Их можно писать на специальных языках, например Kotlin. Но если нужно что-то простое, например интерфейс для работы с облачным хранилищем, его можно написать на JavaScript и собрать в приложение с помощью специальных инструментов.
                                </p>
                            </li>

                            <li class="description-block-text text">
                                <p>
                                    <strong>Серверная часть сайтов и программ.</strong>
                                    Язык программирования JavaScript можно использовать для написания любых сервисов: чатов, компьютерных программ и даже нейросетей. Для этого к нему нужно подключить движок Node.js.
                                </p>
                            </li>
                        </ol>
                    </div>

                    <div class="description-block">
                        <h3 class="description-block-title title">Достоинства</h3>
                        <ul class="description-block-list list">
                            <li class="description-block-text text">Незаменимость для веб-разработки.</li>
                            <li class="description-block-text text">Скорость работы и производительность.</li>
                            <li class="description-block-text text">Мощная инфраструктура (экосистема).</li>
                            <li class="description-block-text text">Простота и рациональность применения.</li>
                            <li class="description-block-text text">Лёгкость освоения.</li>
                        </ul>
                    </div>

                    <div class="description-block">
                        <h3 class="description-block-title title">Недостатки</h3>
                        <ul class="description-block-list list">
                            <li class="description-block-text text">Нестрогая типизация и вольная трактовка.</li>
                            <li class="description-block-text text">Доступность для злоумышленников.</li>
                            <li class="description-block-text text">Не до конца проработанный стандарт языка.</li>
                        </ul>
                    </div>
                </article>

                <article class="links">
                    <h3 class="links-block-title title"><mark>Полезные материалы</mark></h3>
                    <ul class="list">
                        <li class="links-block-text text">
                            <a class="useful-link"  href="https://learn.javascript.ru/">JavaScript.ru - учебник для изучения языка JS.</a>
                        </li>

                        <li class="links-block-text text">
                            <a class="useful-link" href="https://codesandbox.io/">CodeSandbox - облачная IDE.</a>
                        </li>

                        <li class="links-block-text text">
                            <a class="useful-link" href="https://www.typescriptlang.org/">TypeScript - расширение JavaScript, вводящее явную типизацию.</a>
                        </li>
                    </ul>
                </article>

                <article class="comment js-comment">
                </article>
            </div>

            <div class="column">
                <article class="title-image">
                    <img class="image" src="assets/images/react.jpg" alt="Изображение с библиотекой React">
                </article>

                <article class="description">
                    <div class="description-block">
                        <h3 class="description-block-title title">Описание</h3>
                        <p class="description-block-text text">React — JavaScript-библиотека с открытым исходным кодом для разработки пользовательских интерфейсов.</p>
                    </div>

                    <div class="description-block">
                        <h3 class="description-block-title title">Области применения</h3>
                        <ol class="description-block-list list">
                            <li class="description-block-text text">
                                <p>
                                    <strong>Одностраничные сайты и приложения (SPA).</strong>
                                    В простом приложении для перехода со страницы на страницу пользователь делает к ней запрос на сервер, и сервер возвращает разметку, стили и файлы скриптов (то есть HTML, CSS и JavaScript). В случае SPA пользователь, переходя между разделами сайта, формально находится на одной и той же странице, но файлы скриптов и стили у него уже есть — остаётся дотянуть то, чего не хватает.
                                </p>
                            </li>
                            <li class="description-block-text text">
                                <p>
                                    <strong>Мобильные приложения.</strong>
                                    Их можно писать с помощью React Native, основанном на React Js
                                </p>
                            </li>
                        </ol>
                    </div>

                    <div class="description-block">
                        <h3 class="description-block-title title">Достоинства</h3>
                        <ul class="description-block-list list">
                            <li class="description-block-text text">JSX гораздо проще читать и понимать.</li>
                            <li class="description-block-text text">Система компонентов.</li>
                            <li class="description-block-text text">Virtual DOM.</li>
                            <li class="description-block-text text">Инструменты разработки.</li>
                        </ul>
                    </div>

                    <div class="description-block">
                        <h3 class="description-block-title title">Недостатки</h3>
                        <ul class="description-block-list list">
                            <li class="description-block-text text">Плохо дружит с SEO.</li>
                            <li class="description-block-text text">Смешивание HTML (JSX) и JS в одном файле.</li>
                        </ul>
                    </div>
                </article>

                <article class="links">
                    <h3 class="links-block-title title"><mark>Полезные материалы</mark></h3>
                    <ul class="list">
                        <li class="links-block-text text">
                            <a class="useful-link"  href="https://react.dev/">Официальная документация React.</a>
                        </li>

                        <li class="links-block-text text">
                            <a class="useful-link" href="https://reactrouter.com/en/main">Библиотека для реализации роутинга.</a>
                        </li>

                        <li class="links-block-text text">
                            <a class="useful-link" href="https://mobx.js.org/defining-data-stores.html">MobX - стейт менеджер.</a>
                        </li>

                        <li class="links-block-text text">
                            <a class="useful-link" href="https://www.developerway.com/">Полезный материал для более глубокого изучения React.</a>
                        </li>
                    </ul>
                </article>

                <article class="comment react-comment">
                </article>
            </div>
        </main>

        <footer class="root-wrapper footer">
            <span class="footer-text text">© 2023 Котенко Никита</span>
        </footer>
    </div>

    <script src="scripts/index.js" ></script>
    <script type="text/babel">
        class CommentForm extends React.Component {
            constructor() {
                super();

                this.options = [
                    {
                        value: 1,
                        label: "Ужасно"
                    },

                    {
                        value: 2,
                        label: "Плохо"
                    },

                    {
                        value: 3,
                        label: "Нормально"
                    },

                    {
                        value: 4,
                        label: "Хорошо"
                    },

                    {
                        value: 5,
                        label: "Отлично"
                    }
                ];

                const defaultState = {
                    mail: "",
                    name: "",
                    text: "",
                    isProgrammer: false,
                    sex: "male",
                    score: 5
                }

                this.state = {...defaultState}
                this.defaultState = defaultState;
            }

            clear = () => {
                this.setState({
                    ...this.defaultState
                })
            }

            change = (name, value) => {
                this.setState({
                    [name]: value
                })
            }

            onSubmit = (event) => {
                event.preventDefault();

                const text = `Колонка статьи: ${this.props.name}\n` +
                    `Имя: ${this.state.name}\n` +
                    `Почта: ${this.state.mail}\n` +
                    `Программист???: ${this.state.isProgrammer}\n` +
                    `Пол: ${this.state.sex}\n` +
                    `Оценка: ${this.state.score}\n` +
                    `Комментарий: ${this.state.text}\n`;

                alert(text);
            }

            render() {
                return (
                    <>
                        <h3 className="comment-block-title title">Оцените колонку статьи!</h3>
                        <form className={`form ${this.props.name}-comment-form`} onSubmit={this.onSubmit}>
                            <FormTextInput
                                label="Почта"
                                name="mail"
                                id={`${this.props.name}-mail`}
                                change={this.change}
                                value={this.state.mail}
                            />

                            <FormTextInput
                                label="Имя"
                                name="name"
                                id={`${this.props.name}-name`}
                                change={this.change}
                                value={this.state.name}
                            />

                            <FormTextInput
                                textArea
                                label="Комментарий"
                                name="text"
                                id={`${this.props.name}-text`}
                                change={this.change}
                                value={this.state.text}
                            />

                            <div className="form-inputs">
                                <FormRadioGroup>
                                    <FormRadioInput
                                        name="sex"
                                        label="Мужчина"
                                        value="male"
                                        id={`${this.props.name}-male`}
                                        change={this.change}
                                        checked
                                    />

                                    <FormRadioInput
                                        name="sex"
                                        label="Женщина"
                                        value="female"
                                        id={`${this.props.name}-female`}
                                        change={this.change}
                                    />
                                </FormRadioGroup>

                                <FormCheckboxInput
                                    name="isProgrammer"
                                    label="Программист?"
                                    id={`${this.props.name}-is-programmer`}
                                    change={this.change}
                                    value={this.state.isProgrammer}
                                />
                            </div>

                            <FormSelectInput
                                name="score"
                                label="Оценка"
                                id={`${this.props.name}-score`}
                                change={this.change}
                                value={this.state.score}
                            >
                                {
                                    this.options.map((option, i) => <option {...option} key={i}>{option.label}</option>)
                                }
                            </FormSelectInput>

                            <div className="form-buttons">
                                <button className="form-button" type="submit">Отправить</button>
                                <button className="form-button" type="button" onClick={this.clear}>Очистить</button>
                            </div>
                        </form>
                    </>
                );
            }
        }

        class FormTextInput extends React.Component {
            onChange = (event) => {
                this.props.change(this.props.name, event.target.value);
            }

            render() {
                return (
                    <div className="form-input">
                        <label className="form-input-label text" htmlFor={this.props.id}>{this.props.label}</label>
                        {
                            this.props.textArea
                                ?
                                <textarea
                                    className="form-input-field"
                                    id={this.props.id}
                                    name={this.props.name}
                                    onChange={this.onChange}
                                    value={this.props.value}
                                    rows="10"
                                ></textarea>
                                :
                                <input
                                    className="form-input-field"
                                    type="text"
                                    id={this.props.id}
                                    name={this.props.name}
                                    onChange={this.onChange}
                                    value={this.props.value}
                                />
                        }
                    </div>
                );
            }
        }

        class FormRadioGroup extends React.Component {
            render() {
                return (
                    <div className="form-input-radio">
                        {
                            this.props.children
                        }
                    </div>
                );
            }
        }

        class FormRadioInput extends React.Component {
            onChange = (event) => {
                this.props.change(this.props.name, event.target.value);
            }

            render() {
                return (
                    <div className="form-input-radio-choice">
                        <input
                            className="form-input-field"
                            type="radio"
                            onChange={this.onChange}
                            value={this.props.value}
                            id={this.props.id}
                            name={this.props.name}
                            defaultChecked={this.props.checked}
                        />
                        <label className="form-input-label text" htmlFor={this.props.id}>{this.props.label}</label>
                    </div>
                );
            }
        }

        class FormCheckboxInput extends React.Component {
            onChange = (event) => {
                this.props.change(this.props.name, event.target.checked);
            }

            render() {
                return (
                    <div className="form-input-checkbox">
                        <input
                            className="form-input-field"
                            type="checkbox"
                            id={this.props.id}
                            name={this.props.name}
                            onChange={this.onChange}
                            checked={this.props.value}
                        />
                        <label className="form-input-label text" htmlFor={this.props.id}>{this.props.label}</label>
                    </div>
                );
            }
        }

        class FormSelectInput extends React.Component {
            onChange = (event) => {
                this.props.change(this.props.name, event.target.value);
            }

            render() {
                return (
                    <div className="form-input">
                        <label className="form-input-label text" htmlFor={this.props.id}>{this.props.label}</label>
                        <select
                            className="form-input-field"
                            id={this.props.name}
                            name={this.props.name}
                            onChange={this.onChange}
                            value={this.props.value}
                        >
                            {this.props.children}
                        </select>
                    </div>
                );
            }
        }

        ReactDOM.render(<CommentForm name={"react"}/>, document.querySelector(".react-comment"));
        ReactDOM.render(<CommentForm name={"js"}/>, document.querySelector(".js-comment"));
    </script>
</body>
</html>
